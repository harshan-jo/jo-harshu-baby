<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>For Jo üíô</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #f6f0e8;      /* soft beige */
    --bg2: #fffefe;
    --accent: #00c2bb;   /* turquoise */
    --accent-2:#00a39a;
    --muted: #6b6b6b;
    --card: rgba(255,255,255,0.85);
    --glass: rgba(255,255,255,0.55);
  }
  /* Bunny cursor: replace URL if you prefer a local image */
  html,body{
    height:100%; margin:0; background: linear-gradient(180deg,var(--bg1),var(--bg2));
    font-family: "Poppins",system-ui,Arial; color:#102027; -webkit-font-smoothing:antialiased;
    cursor: url('https://cdn-icons-png.flaticon.com/512/616/616408.png') 16 16, auto;
  }

  /* Page layout */
  .container{
    min-height:100vh; display:flex; flex-direction:column; align-items:center; gap:28px;
    padding:36px 20px;
  }
  header{
    width:100%; max-width:1100px; display:flex; justify-content:space-between; align-items:center;
  }
  .brand{
    display:flex; align-items:center; gap:14px;
  }
  .logo{
    width:64px; height:64px; border-radius:18px; display:flex; align-items:center; justify-content:center;
    background:linear-gradient(135deg,var(--accent),var(--accent-2)); box-shadow:0 8px 28px rgba(0,0,0,0.08);
    color:white; font-weight:800; font-size:22px; font-family:"Great Vibes", cursive;
  }
  .brand h1{ margin:0; font-size:20px; letter-spacing:0.2px; color:#053236; }
  nav{ display:flex; gap:12px; align-items:center; }

  .btn{
    background:transparent; border: 2px solid rgba(5,50,50,0.06); padding:8px 14px; border-radius:12px;
    font-weight:600; color: #053236; cursor:pointer; box-shadow: 0 6px 18px rgba(2,40,39,0.04);
  }
  .btn-accent{
    background: linear-gradient(90deg,var(--accent),var(--accent-2)); color:white; border:none;
    box-shadow: 0 10px 30px rgba(0,194,187,0.16);
  }

  /* Main card */
  .card{
    width:100%; max-width:1000px; background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.8));
    border-radius:18px; padding:26px; box-shadow:0 20px 50px rgba(3,20,20,0.06);
    display:grid; grid-template-columns: 1fr 420px; gap:22px; align-items:center;
  }

  /* Left: animated heart area */
  .stage{
    position:relative; height:560px; border-radius:12px; overflow:hidden;
    background: radial-gradient(circle at 20% 10%, rgba(0,194,187,0.06), transparent 10%);
    display:flex; align-items:center; justify-content:center;
  }

  /* Heart canvas (text points and particles) */
  canvas#particles{ position:absolute; inset:0; width:100%; height:100%; display:block; }
  .centerText{
    position:absolute; left:50%; transform:translateX(-50%); bottom:36px; text-align:center;
    pointer-events:none; z-index:18;
  }
  .centerText h2{ margin:0; font-size:34px; color:#053236; font-weight:800; text-shadow: 0 2px 0 rgba(255,255,255,0.6);}
  .centerText p{ margin:6px 0 0 0; color:var(--muted); font-size:14px; }

  /* Right: info & surprises */
  .sidebar{ padding:10px 6px; display:flex; flex-direction:column; gap:12px; }
  .card-panel{
    background:var(--card); border-radius:12px; padding:12px; box-shadow: 0 8px 24px rgba(2,40,39,0.04);
  }
  .memorial{
    display:flex; gap:12px; align-items:center;
  }
  .dog-photo{
    width:84px; height:84px; border-radius:12px; object-fit:cover; flex-shrink:0;
    background: linear-gradient(135deg,var(--accent),var(--accent-2));
    display:flex; align-items:center; justify-content:center; color:white; font-weight:700;
  }
  .memorial h3{ margin:0 0 4px 0; font-size:16px; color:#053236; }
  .memorial p{ margin:0; color:var(--muted); font-size:13px; }

  .actions{ display:flex; gap:10px; margin-top:6px; flex-wrap:wrap; }
  .small{ font-size:13px; padding:8px 10px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); }

  /* Surprise modal */
  .modal{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:120;
    background:rgba(0,0,0,0.45); opacity:0; pointer-events:none; transition:opacity .28s ease;
  }
  .modal.open{ opacity:1; pointer-events:auto; }
  .modal-card{
    width:90%; max-width:720px; background:var(--card); border-radius:14px; padding:22px; text-align:center;
  }
  .modal-card h2{ margin-top:4px; font-size:26px; color:#053236; font-weight:800; }
  .modal-card p{ color:var(--muted); margin-top:8px; }

  /* small footer */
  footer{ color:var(--muted); font-size:13px; margin-top:6px; opacity:0.95; }

  /* responsive */
  @media (max-width:980px){
    .card{ grid-template-columns: 1fr; }
    .stage{ height:420px; }
  }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="brand">
      <div class="logo">Jo</div>
      <div>
        <h1>&nbsp;For Jo</h1>
        <div style="font-size:12px;color:var(--muted)">A little website to hug you across miles</div>
      </div>
    </div>

    <nav>
      <button class="btn" id="btn-surprise">Open Surprise</button>
      <a class="btn btn-accent" id="btn-youtube" href="https://www.youtube.com/" target="_blank" rel="noopener">Visit Bunnylicious</a>
    </nav>
  </header>

  <main class="card" role="main">
    <!-- animated left: heart + particles -->
    <section class="stage" aria-hidden="false">
      <canvas id="particles"></canvas>
      <div class="centerText" aria-hidden="true">
        <h2>I LOVE YOU, JO</h2>
        <p>‚Äî with all my heart and the memory of our lovable baby ‚Äî</p>
      </div>
    </section>

    <!-- sidebar: memorial + controls -->
    <aside class="sidebar">
      <div class="card-panel memorial">
        <div class="dog-photo" id="dogPhoto">üê∂</div>
        <div>
          <h3>In loving memory</h3>
          <p id="dogText">For your sweet companion ‚Äî always in our hearts.</p>
          <div style="margin-top:8px;">
            <button class="btn small" id="btn-candle">Light a Candle</button>
            <button class="btn small" id="btn-melody">Play Memory Melody</button>
          </div>
        </div>
      </div>

      <div class="card-panel">
        <h3 style="margin:0 0 10px 0">Little Surprises</h3>
        <div class="actions">
          <button class="btn small" id="btn-confetti">Confetti</button>
          <button class="btn small" id="btn-letter">Open Love Letter</button>
          <button class="btn small" id="btn-hug">Send a Virtual Hug</button>
        </div>
      </div>

      <div class="card-panel" style="display:flex;flex-direction:column;gap:8px;">
        <div style="font-size:13px;color:var(--muted)">Share this:</div>
        <div style="display:flex;gap:8px;">
          <button class="btn small" id="shareBtn">Copy Link</button>
          <a class="btn small" href="mailto:?subject=For Jo&body=I found this for you" target="_blank">Email</a>
        </div>
      </div>
    </aside>
  </main>

  <footer>Made with ‚ù§Ô∏è ‚Äî personalized for Jo & Bunnylicious</footer>
</div>

<!-- Surprise modal -->
<div id="modal" class="modal" role="dialog" aria-hidden="true">
  <div class="modal-card" role="document">
    <h2 id="modalTitle">A Surprise</h2>
    <p id="modalBody">...</p>
    <div style="margin-top:12px;">
      <button class="btn btn-accent" id="closeModal">Close</button>
    </div>
  </div>
</div>

<script>
/* ------------------------------
   Heart text + particles system
   - uses a heart parametric formula to place many "letters" points
   - draws them with an elegant turquoise glow
   - particle tail and subtle motion
-------------------------------*/

const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d', { alpha: true });
let W = canvas.width = canvas.offsetWidth;
let H = canvas.height = canvas.offsetHeight;

window.addEventListener('resize', () => {
  W = canvas.width = canvas.offsetWidth;
  H = canvas.height = canvas.offsetHeight;
  buildPoints(); // rebuild on resize
});

/* Parametric heart equation; returns {x,y} in a normalized box */
function heartXY(t){
  // t from 0..2PI
  const x = 16 * Math.pow(Math.sin(t), 3);
  const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
  return { x, y };
}

/* Points that follow the heart */
let points = [];
const POINT_COUNT = 260;
function buildPoints(){
  points = [];
  for(let i=0;i<POINT_COUNT;i++){
    const t = (i/POINT_COUNT) * Math.PI * 2;
    const pos = heartXY(t);
    // scale to canvas
    const px = W/2 + pos.x * Math.min(W,H) * 0.02;
    const py = H/2 - pos.y * Math.min(W,H) * 0.02 - 30; // lift up a bit
    points.push({
      baseX: px,
      baseY: py,
      x: px + (Math.random()-0.5)*6,
      y: py + (Math.random()-0.5)*6,
      angle: t,
      speed: 0.0015 + Math.random()*0.0025,
      wobble: Math.random()*0.8
    });
  }
}
buildPoints();

/* text used for each point ‚Äî map "I LOVE YOU JO" letters across points */
const phrase = "I LOVE YOU JO ";
const glyphs = [];
for(let i=0;i<POINT_COUNT;i++){
  glyphs.push( phrase[ i % phrase.length ] );
}

/* particle tails store recent positions */
const tails = [];
const MAX_TAIL = 120;

/* animation loop */
let last = performance.now();

function draw(now){
  const dt = now - last;
  last = now;

  // clear with gentle alpha to leave faint trails
  ctx.clearRect(0,0,W,H);
  ctx.fillStyle = 'rgba(248,245,242,0)'; // transparent; we control trails manually

  // draw a subtle background vignette
  const g = ctx.createRadialGradient(W/2, H*0.2, 40, W/2, H/2, Math.max(W,H));
  g.addColorStop(0, "rgba(0,0,0,0)");
  g.addColorStop(1, "rgba(0,0,0,0)");
  ctx.fillStyle = g;
  ctx.fillRect(0,0,W,H);

  // update points and draw text at each point
  for(let i=0;i<points.length;i++){
    const p = points[i];
    // advance along heart by changing angle slowly
    p.angle += p.speed * (dt/16);
    const h = heartXY(p.angle);
    const px = W/2 + h.x * Math.min(W,H) * 0.02;
    const py = H/2 - h.y * Math.min(W,H) * 0.02 - 30; // lift

    // small wobble effect
    const wob = Math.sin(now * 0.001 * p.wobble + i) * 6;
    p.x += (px + wob - p.x) * 0.12;
    p.y += (py - p.y) * 0.12;

    // push to tails
    tails.push({ x: p.x, y: p.y, life: 1.0, i });
    if(tails.length > MAX_TAIL) tails.shift();

    // draw the glyph
    ctx.save();
    ctx.font = `${14 + (Math.sin(i*0.1 + now*0.002)*2)}px Poppins`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    // turquoise glow
    ctx.fillStyle = "#dffefb";
    ctx.shadowColor = "rgba(0,194,187,0.95)";
    ctx.shadowBlur = 12;
    ctx.fillText(glyphs[i], p.x, p.y);
    ctx.restore();
  }

  // draw tails (soft)
  for(let j=0; j<tails.length; j++){
    const t = tails[j];
    const alpha = j / tails.length;
    ctx.beginPath();
    ctx.fillStyle = `rgba(0,194,187,${alpha * 0.18})`;
    ctx.arc(t.x, t.y, 3 + alpha*4, 0, Math.PI*2);
    ctx.fill();
  }

  // subtle center heart outline
  ctx.beginPath();
  for(let a=0; a<=360; a+=4){
    const rad = (a/180)*Math.PI;
    const pos = heartXY(rad);
    const xx = W/2 + pos.x * Math.min(W,H) * 0.02;
    const yy = H/2 - pos.y * Math.min(W,H) * 0.02 - 30;
    if(a===0) ctx.moveTo(xx, yy); else ctx.lineTo(xx, yy);
  }
  ctx.lineWidth = 2;
  ctx.strokeStyle = "rgba(0,194,187,0.08)";
  ctx.stroke();

  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);


/* ------------------------------
   UI & Surprises: confetti, modal, melody, candle
-------------------------------*/
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalBody = document.getElementById('modalBody');
const btnSurprise = document.getElementById('btn-surprise');
const btnConfetti = document.getElementById('btn-confetti');
const btnLetter = document.getElementById('btn-letter');
const btnClose = document.getElementById('closeModal');
const btnMelody = document.getElementById('btn-melody');
const btnCandle = document.getElementById('btn-candle');
const btnHug = document.getElementById('btn-hug');
const shareBtn = document.getElementById('shareBtn');

btnSurprise.addEventListener('click', () => {
  showModal("A Little Surprise", "Click Confetti or Open Love Letter ‚Äî everything is made for you, Jo. üíô");
});

btnConfetti.addEventListener('click', () => {
  launchConfetti();
  showModal("Confetti!", "Imagine me there with balloons and confetti ‚Äî and a big hug.");
});

btnLetter.addEventListener('click', () => {
  showModal("Dear Jo", `My dearest Jo ‚Äî<br><br>
    I made this for you. For your smile, for your strength, and for the memory of your sweet pup. You are loved more than words. ‚Äî <em>Your [Name]</em>`);
});

btnClose.addEventListener('click', () => {
  modal.classList.remove('open');
});

btnMelody.addEventListener('click', () => {
  playMelody();
  showModal("Memory Melody", "A simple gentle melody to remember the good times. ‚ô´");
});

btnCandle.addEventListener('click', () => {
  showModal("A Candle for the Sweet One", "A candle has been lit in memory. Close your eyes and think of the happiest day.");
});

btnHug.addEventListener('click', () => {
  showModal("Virtual Hug Sent ü§ó", "I've sent a warm hug. Whenever you miss Me , press this again and imagine a hug.");
});

shareBtn.addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(location.href);
    showModal("Link copied", "Share this page with Jo ‚Äî the link is on your clipboard.");
  } catch (e) {
    showModal("Copy failed", "You can share the file manually or email it.");
  }
});

function showModal(title, html){
  modalTitle.innerHTML = title;
  modalBody.innerHTML = html;
  modal.classList.add('open');
}

/* ------------------------------
   Confetti (canvas) lightweight
-------------------------------*/
function launchConfetti(){
  const confettiCanvas = document.createElement('canvas');
  confettiCanvas.style.position = 'fixed';
  confettiCanvas.style.left = 0; confettiCanvas.style.top = 0; confettiCanvas.style.zIndex = 200;
  confettiCanvas.width = window.innerWidth; confettiCanvas.height = window.innerHeight;
  document.body.appendChild(confettiCanvas);
  const g = confettiCanvas.getContext('2d');

  const pieces = [];
  for(let i=0;i<180;i++){
    pieces.push({
      x: Math.random()*confettiCanvas.width,
      y: Math.random()*-200,
      vx: (Math.random()-0.5)*2,
      vy: 2+Math.random()*4,
      size: 6+Math.random()*8,
      color: i%2 ? '#00c2bb' : '#f7c6c6',
      rot: Math.random()*360
    });
  }
  let ticks = 0;
  function frame(){
    ticks++;
    g.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    for(const p of pieces){
      p.x += p.vx; p.y += p.vy; p.rot += 4;
      g.save();
      g.translate(p.x, p.y);
      g.rotate(p.rot*Math.PI/180);
      g.fillStyle = p.color;
      g.fillRect(-p.size/2, -p.size/2, p.size, p.size);
      g.restore();
    }
    if(ticks < 180) requestAnimationFrame(frame);
    else confettiCanvas.remove();
  }
  requestAnimationFrame(frame);
}

/* ------------------------------
   Melody with WebAudio (gentle)
-------------------------------*/
let audioCtx = null;
function playMelody(){
  if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const ctx = audioCtx;
  // small arpeggio
  const notes = [440, 523.25, 659.25, 880]; // A4, C5, E5, A5
  let now = ctx.currentTime;
  for(let i=0;i<notes.length;i++){
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.type = 'sine';
    o.frequency.value = notes[i];
    g.gain.value = 0;
    o.connect(g); g.connect(ctx.destination);
    o.start(now + i*0.35);
    g.gain.setValueAtTime(0, now + i*0.35);
    g.gain.linearRampToValueAtTime(0.09, now + i*0.35 + 0.02);
    g.gain.linearRampToValueAtTime(0, now + i*0.35 + 0.5);
    o.stop(now + i*0.35 + 0.6);
  }
}

/* ------------------------------
   Optional: replace dog photo with a provided image
-------------------------------*/
//const dogPhotoEl = document.getElementById('dogPhoto');//
// If you want to show a real photo, uncomment and put a URL:
const dogPhotoEl = document.getElementById('dogPhoto');
dogPhotoEl.style.backgroundImage = "url('dog1.jpg')";
dogPhotoEl.style.backgroundSize = 'cover';
dogPhotoEl.style.backgroundPosition = 'center';
dogPhotoEl.textContent = '';

/* Accessibility: close modal via ESC */
document.addEventListener('keydown', (e) => {
  if(e.key === 'Escape') modal.classList.remove('open');
});

/* Small touch: soft entrance of modal when page loads */
setTimeout(()=> {
  // small gentle confetti to greet (optional); commented out to avoid surprise
  // launchConfetti();
}, 900);

</script>
</body>
</html>
